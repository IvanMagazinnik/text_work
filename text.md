# Введение
Тестирование - Один из главных этапов разработки программного обеспечения, необходимо для решения двух задач:
* Продемонстрировать работодателю и заказчику что программа работает и работает верно в соответствии с поставленной задачей и заявленными целями.
* Обнаружить ситуации, когда приложение работает некорректно и выявить причину этого дефекта.

Разделяют два вида тестирования: Ручное и автоматическое.
Ручное тестирование производится специальным человеком - тестировщиком, без использования специализированных программных средств и предназначено для выявления ошибок в работе приложения путём моделирования действия пользователя. Основной и главной проблемой ручного тестирования является человеческий фактор, а как следствие низкая скорость работы, высокая ресурсоемкость и увеличение ошибок с течением времени. Поэтому в настоящее время ручное тестирование применяется только для интеграционного и системного тестирования. Основное же модульное тестирование производится автоматически.   
Автоматизация тестирования - использование специализированных приложений или модулей для осуществления или помощи в проведении определённых тестов. Плюсы автоматического тестирования: Быстрота, автоматические отчёты, выполнение в фоне.   
В связи с переходом от ручного тестирования к автоматическому, возникает широкий класс задач связанный с автоматической проверкой корректности работы графического пользовательского интерфейса (Gui). Популярность такого вида тестирования объясняется двумя факторами: во-первых, приложение тестируется тем же способом, которым его будет использовать человек, во-вторых, можно тестировать приложение, не имея при этом доступа к исходному коду.  
# Постановка задачи
Основной проблемой автоматического тестирования Gui является отсутствие единых стандартов программных интерфейсов (Api) для взаимодействия тестовых фреймворков с приложением. Основные подходы к решению этой проблемы:
* Координатный метод поиска объектов.
* Распознавание образов
* Подход использующий механизмы реализации специальных
возможностей (accessibility) и особенности реализации некоторых Gui фреймворков.    

Первые два из выше описанных подходов предполагают лишь обнаружение объектов в приложении, но не взаимодействие с ними. И лишь подход использующий accessibility технологии позволяет управлять объектами приложения. Однако такое взаимодействие будет далеко от реального обращения пользователя с программой.
Вследствии чего возникает задача эмулирования пользовательских действий фреймворком тестирования.    
Рассмотрим два основных способа взаимодействия пользователя с программой:
* Управление объектами с помощью мыши
* Ввод данных или использование специальных сочетаний клавиш с помощью клавиатуры.   

Рассмотрим способы и средства эмулирования пользовательских действий в существующих фреймворках автоматического тестирования Gui.

# Существующие решения

## Pyautogui
Кроссплатформенная библиотека для языка python позволяющая программно управлять событиями мыши и клавиатуры.
Под Linux данная библиотека взаимодействует с Api предоставляемым X Windows System. А под Windows использует win32api подключаемое из библиотек языка с/с++
Минусы:
* Возможность управлять только окном приложения, но не объектами внутри него.
* Из-за того, что библиотека использует модули из языка c++ изменение её в случае если это необходимо будет сильно затруднено.

## Pywinauto
<!-- Нужно найти более детальное и красивое описание библиотеки -->
Библиотека для языка python состоящая из набора модулей предназначенных для автоматического гибкого взаимодействия с Microsoft Windows Gui.
Эмулирование пользовательских действий в pywinauto  
реализованно с помощью win32api - библиотеки  Windows содержащая набор классов, процедур, функций структур и констант, которые используют программы для создания и работы с окнами в ОС Windows.   

Минусы:
* отсутствие кроссплатформенности.    

В связи с чем было принято решение о портирование некоторых модулей данной библиотеки, а в дальнейшем и всей библиотеки под системы Linux и Mac os. Так как аналогичных кроссплатформенных библиотек, обладающих таким широким спектром решаемых задач, и удобным интерфейсом под данные системы не существует, а хотелось бы иметь один тестовый фреймворк под все системы.

<!-- Нужной найти список приложений аналогов / конкурентов под Windows / Linux -->
## TBD

# X Window System
X Window System оконная система, обеспечивающая стандартные инструменты и протоколы для построения графического интерфейса пользователя. Используется в UNIX-подобных ОС.

X Window System обеспечивает базовые функции графической среды: отрисовку и перемещение окон на экране, взаимодействие с устройствами ввода, такими как, например, мышь и клавиатура. X Window System не определяет деталей интерфейса пользователя — этим занимаются менеджеры окон, которых разработано множество. По этой причине внешний вид программ в среде X Window System может очень сильно различаться в зависимости от возможностей и настроек конкретного оконного менеджера.   

Работа с клавиатурой в X Window:  когда пользователь нажимает(отпускает) клавишу, сервер получает соответствующий сигнал, который преобразуется в событие и отправляется в очередь программы, имеющей фокус ввода (input focus).   
Так как клавиатура обычно у машины одна, она разделяется между всеми одновременно выполняющимися программами. Сигнал поступающий от устройства доступен лишь одной из них, обычно, той, которой принадлежит активное окно. Под этим и стоит понимать, что программа и её окно имеют фокус ввода. Последний может переходить от окна к окну и от программы к программе.

Работа с мышью в X Window: Общение программы с мышью похоже на работу с клавиатурой, X-сервер получает сигналы от устройства, преобразует их в события и помещает последние в очередь программы. Однако есть существенная разница. Если события от клавиатуры передаются лишь программе, окно которой имеет фокус ввода, то события от мыши могут передаваться, в принципе, любой задаче, окно (окна) которой присутствуют на экране.
